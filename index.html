<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>REPORT ‚Äî Analisi Avvisi di Vendita Immobiliare</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Lora:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet" />
</head>
<body>

  <!-- ‚ñ∏ TOPBAR -->
  <header class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="brand-icon">‚öñÔ∏è</div>
        <div>
          <div class="brand-name">REPORT</div>
          <div class="brand-tagline">Analisi Aste Immobiliari</div>
        </div>
      </div>
      <div class="topbar-links">
        <a href="#come-funziona">Come funziona</a>
        <a href="#inizia" class="topbar-cta">Inizia subito ‚Üí</a>
      </div>
    </div>
  </header>

  <!-- ‚ñ∏ HERO -->
  <section class="hero">
    <div class="hero-content">
      <div class="hero-pill">üè† Strumento professionale gratuito</div>
      <h1>Analizza un'asta immobiliare<br/><span class="hero-accent">in pochi minuti</span></h1>
      <p class="hero-desc">Carica l'avviso di vendita che hai ricevuto o trovato online. Il nostro sistema lo legge, lo analizza come farebbe un avvocato esperto e ti dice chiaramente se √® un buon affare o no.</p>
      <div class="hero-features">
        <div class="hero-feat">‚úÖ Nessuna competenza tecnica richiesta</div>
        <div class="hero-feat">‚úÖ Risultato in meno di 2 minuti</div>
        <div class="hero-feat">‚úÖ Report scaricabile e stampabile</div>
      </div>
      <a href="#inizia" class="hero-btn">Analizza il tuo avviso ‚Üí</a>
    </div>
    <div class="hero-visual">
      <div class="hero-card">
        <div class="hc-header">
          <span class="hc-dot red"></span>
          <span class="hc-dot yellow"></span>
          <span class="hc-dot green"></span>
          <span class="hc-title">Report Analisi</span>
        </div>
        <div class="hc-row">
          <span class="hc-label">Tribunale</span>
          <span class="hc-val">Tribunale di Milano</span>
        </div>
        <div class="hc-row">
          <span class="hc-label">Valore stima</span>
          <span class="hc-val">‚Ç¨ 280.000</span>
        </div>
        <div class="hc-row">
          <span class="hc-label">Prezzo base</span>
          <span class="hc-val highlight">‚Ç¨ 168.000</span>
        </div>
        <div class="hc-row">
          <span class="hc-label">Sconto</span>
          <span class="hc-val green">-40% sul valore</span>
        </div>
        <div class="hc-verdict low">
          <span>‚úÖ</span>
          <span>Rischio BASSO ‚Äî Alta convenienza</span>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚ñ∏ COME FUNZIONA -->
  <section class="steps-section" id="come-funziona">
    <div class="container">
      <div class="section-eyebrow">√à semplicissimo</div>
      <h2 class="section-title">Come funziona in 3 passi</h2>
      <div class="steps-grid">
        <div class="step-card">
          <div class="step-num">1</div>
          <div class="step-icon">üîë</div>
          <h3>Inserisci la chiave API</h3>
          <p>Ottieni gratuitamente una chiave di accesso da Anthropic e inseriscila nel campo apposito. Si fa una sola volta.</p>
        </div>
        <div class="step-arrow">‚Üí</div>
        <div class="step-card">
          <div class="step-num">2</div>
          <div class="step-icon">üìÇ</div>
          <h3>Carica i documenti</h3>
          <p>Trascina il PDF dell'avviso di vendita nella zona di caricamento, oppure clicca il pulsante. Puoi caricare pi√π file insieme.</p>
        </div>
        <div class="step-arrow">‚Üí</div>
        <div class="step-card">
          <div class="step-num">3</div>
          <div class="step-icon">üìä</div>
          <h3>Leggi il tuo report</h3>
          <p>In circa 60 secondi ricevi un'analisi completa: rischi, opportunit√†, tutti i dati importanti e un giudizio finale chiaro.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚ñ∏ APP PRINCIPALE -->
  <section class="app-section" id="inizia">
    <div class="container">

      <!-- STEP 1: API KEY -->
      <div class="app-block" id="block-api">
        <div class="block-header">
          <div class="block-num">Passo 1</div>
          <h2>Inserisci la tua chiave API</h2>
          <p>La chiave ti permette di usare l'intelligenza artificiale. <a href="https://console.anthropic.com" target="_blank">Ottienila qui gratuitamente ‚Üí</a></p>
        </div>
        <div class="api-box">
          <div class="api-visual">üîê</div>
          <div class="api-form">
            <label class="field-label">La tua chiave Anthropic</label>
            <div class="api-row">
              <input type="password" id="apiKey" placeholder="sk-ant-api03-..." class="text-input" autocomplete="off" />
              <button class="btn-confirm" onclick="verifyApiKey()">
                <span>Conferma</span>
                <span class="btn-arrow">‚Üí</span>
              </button>
            </div>
            <div id="apiStatus" class="field-hint"></div>
          </div>
        </div>
        <div class="tip-box">
          <div class="tip-icon">üí°</div>
          <div><strong>Non hai una chiave?</strong> Vai su <a href="https://console.anthropic.com" target="_blank">console.anthropic.com</a>, registrati gratuitamente e copia la chiave che inizia con <code>sk-ant-</code></div>
        </div>
      </div>

      <!-- STEP 2: UPLOAD -->
      <div class="app-block" id="block-upload">
        <div class="block-header">
          <div class="block-num">Passo 2</div>
          <h2>Carica i tuoi documenti</h2>
          <p>Puoi caricare uno o pi√π file contemporaneamente. Formati accettati: <strong>PDF, TXT, Word, immagini JPG/PNG</strong></p>
        </div>

        <div class="upload-area" id="uploadZone">
          <input type="file" id="fileInput" multiple accept=".pdf,.txt,.doc,.docx,.png,.jpg,.jpeg" class="file-input-hidden" />
          <div class="upload-illustration">
            <div class="upload-cloud">‚òÅÔ∏è</div>
            <div class="upload-arrow-anim">‚¨Ü</div>
          </div>
          <p class="upload-main-text">Trascina qui i file</p>
          <p class="upload-or">oppure</p>
          <button class="btn-upload-pick" onclick="document.getElementById('fileInput').click()">
            üìÇ Scegli file dal computer
          </button>
          <p class="upload-formats-hint">PDF ¬∑ TXT ¬∑ DOC ¬∑ DOCX ¬∑ PNG ¬∑ JPG &nbsp;|&nbsp; Pi√π file contemporaneamente ‚úì</p>
        </div>

        <!-- File list -->
        <div id="fileList" class="file-list hidden"></div>

        <!-- Analyze button -->
        <div id="analyzeWrapper" class="analyze-wrapper hidden">
          <button class="btn-analyze" id="analyzeBtn" onclick="startAnalysis()" disabled>
            <span class="btn-analyze-icon">‚öñÔ∏è</span>
            <div>
              <div class="btn-analyze-main">Avvia l'analisi</div>
              <div class="btn-analyze-sub">Riceverai il report in circa 60 secondi</div>
            </div>
            <span class="btn-analyze-arrow">‚Üí</span>
          </button>
          <button class="btn-reset" onclick="clearAll()">‚úï Ricomincia da capo</button>
        </div>
      </div>

      <!-- PROGRESS -->
      <div class="app-block hidden" id="block-progress">
        <div class="block-header">
          <div class="block-num">In corso‚Ä¶</div>
          <h2>Analisi in corso, attendi</h2>
          <p>L'intelligenza artificiale sta leggendo i tuoi documenti. Ci vorr√† circa un minuto.</p>
        </div>
        <div class="progress-visual">
          <div class="progress-spinner-big"></div>
          <div class="progress-texts">
            <div class="progress-main" id="progressTitle">Avvio analisi‚Ä¶</div>
            <div class="progress-sub" id="progressDesc">Elaborazione in corso</div>
          </div>
        </div>
        <div class="progress-track">
          <div class="progress-fill" id="progressBar"></div>
        </div>
        <div class="progress-steps" id="progressLog"></div>
      </div>

      <!-- RESULTS -->
      <div class="app-block hidden" id="block-results">

        <!-- Verdict top banner -->
        <div id="verdictBanner" class="verdict-banner hidden"></div>

        <div class="results-topbar">
          <div>
            <div class="block-num">Il tuo Report</div>
            <h2>Analisi completata ‚úì</h2>
          </div>
          <div class="export-btns">
            <button class="btn-export" onclick="exportHTML()">‚¨á Salva HTML</button>
            <button class="btn-export" onclick="exportText()">‚¨á Salva TXT</button>
            <button class="btn-export" onclick="window.print()">üñ® Stampa</button>
          </div>
        </div>

        <!-- Navigation tabs -->
        <div class="result-tabs">
          <button class="rtab active" onclick="switchTab('panoramica', this)">üè† Panoramica</button>
          <button class="rtab" onclick="switchTab('legale', this)">‚öñÔ∏è Legale</button>
          <button class="rtab" onclick="switchTab('economica', this)">üí∞ Economia</button>
          <button class="rtab" onclick="switchTab('rischi', this)">üîç Rischi</button>
          <button class="rtab" onclick="switchTab('tabella', this)">üìã Tutti i dati</button>
        </div>

        <div class="rtab-content active" id="tab-panoramica"></div>
        <div class="rtab-content" id="tab-legale"></div>
        <div class="rtab-content" id="tab-economica"></div>
        <div class="rtab-content" id="tab-rischi"></div>
        <div class="rtab-content" id="tab-tabella"></div>

        <!-- Bottom CTA -->
        <div class="results-footer">
          <button class="btn-new" onclick="clearAll()">+ Analizza un altro documento</button>
        </div>

      </div>
    </div>
  </section>

  <!-- ‚ñ∏ FAQ -->
  <section class="faq-section">
    <div class="container">
      <div class="section-eyebrow">Domande frequenti</div>
      <h2 class="section-title">Hai dei dubbi?</h2>
      <div class="faq-grid">
        <div class="faq-item">
          <div class="faq-q">√à sicuro inserire la mia chiave API?</div>
          <div class="faq-a">La chiave viene usata solo in questa sessione e non viene mai salvata o trasmessa a terzi. Puoi verificarlo guardando il codice sorgente della pagina.</div>
        </div>
        <div class="faq-item">
          <div class="faq-q">Che formati di file posso caricare?</div>
          <div class="faq-a">Puoi caricare PDF, file Word (.doc, .docx), file di testo (.txt) e immagini (JPG, PNG). Puoi anche caricare pi√π file dello stesso avviso contemporaneamente.</div>
        </div>
        <div class="faq-item">
          <div class="faq-q">L'analisi sostituisce un avvocato?</div>
          <div class="faq-a">No. Il report √® uno strumento di supporto alla tua valutazione iniziale. Per decisioni di acquisto importanti, consulta sempre un avvocato abilitato.</div>
        </div>
        <div class="faq-item">
          <div class="faq-q">Se carico pi√π file cosa succede?</div>
          <div class="faq-a">Il sistema analizza tutti i documenti separatamente e poi li unisce in un unico report, compensando i dati mancanti da un file con quelli presenti negli altri.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚ñ∏ FOOTER -->
  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-brand">‚öñÔ∏è REPORT</div>
      <p>Strumento di analisi aste immobiliari ‚Äî Powered by Claude AI (Anthropic)</p>
      <p class="footer-disclaimer">‚ö†Ô∏è Questo strumento √® un supporto informativo e non costituisce consulenza legale professionale ai sensi della L. 247/2012. Per qualsiasi decisione di acquisto, consulta un avvocato abilitato.</p>
    </div>
  </footer>

  <script src="js/app.js"></script>
</body>
</html>
